!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4716aafe-7c83-4f00-9ea8-2e6520278262",e._sentryDebugIdIdentifier="sentry-dbid-4716aafe-7c83-4f00-9ea8-2e6520278262")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9017],{68184:function(e,t,n){Promise.resolve().then(n.bind(n,50569))},10860:function(e,t,n){"use strict";n.d(t,{DJ:function(){return o},EQ:function(){return r},JW:function(){return a},f4:function(){return s}});var i=n(31988);let a=n(38752).O.apiURL,r=Intl.DateTimeFormat().resolvedOptions().timeZone,s=i.F5?i.QP:"1.0.0",o=i.F5?i.Q1:"ChitChat_Web"},41740:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var i=n(9500),a=n.n(i);function r(e){return new Promise((t,n)=>{let i=new FileReader,r=new(a()).ArrayBuffer,s=0,o=Math.ceil(e.size/2097152);function l(){let t=2097152*s,n=Math.min(t+2097152,e.size),a=e.slice(t,n);i.readAsArrayBuffer(a)}i.onload=function(e){var n;(null===(n=e.target)||void 0===n?void 0:n.result)&&(r.append(e.target.result),++s<o?l():t(r.end()))},i.onerror=function(e){n(e)},l()})}},73892:function(e,t,n){"use strict";n.d(t,{jo:function(){return y},G1:function(){return m},tJ:function(){return h},fg:function(){return c},km:function(){return w},SJ:function(){return p},jh:function(){return l},Ki:function(){return v},VU:function(){return u},kI:function(){return g},RS:function(){return d},_E:function(){return f},h9:function(){return b}});var i=n(10860),a=n(41740);n(31758);var r=n(85377),s=n(38285);async function o(e){try{if(e.type.startsWith("image/")){let t=document.createElement("img");return t.src=URL.createObjectURL(e),await t.decode(),{width:t.width,height:t.height}}}catch(e){console.error(e)}return null}let l=async e=>{let{wisebaseId:t,page:n=1,pageSize:i=999}=e;return r.WY.get("/resources",{params:{wisebaseId:t,type:["file"],page:n,pageSize:i,logicFileTypes:["image","video"]}})},c=async(e,t)=>r.WY.delete("/files/".concat(t),{params:{wisebaseId:e}}),d=async e=>{let{id:t,name:n,sub_file_content:a}=e,r=(0,s.LP)(),o=await fetch("".concat(i.JW,"/chat/v1/agent/sub-agent/update-slides"),{method:"POST",headers:{Authorization:"".concat(r),"X-App-Name":i.DJ,"X-App-Version":i.f4,"X-Time-Zone":i.EQ,"X-Trace-ID":crypto.randomUUID(),"Content-Type":"application/json"},body:JSON.stringify({sub_agent_id:t,name:n,sub_file_content:a||null})});return await o.json()},u=async e=>{var t;let{wisebaseId:n,id:a}=e,r=(0,s.LP)(),o=await fetch("".concat(i.JW,"/chat/v1/agent/sub-agent?id=").concat(a),{method:"GET",headers:{Authorization:"".concat(r),"X-App-Name":i.DJ,"X-App-Version":i.f4,"X-Time-Zone":i.EQ,"X-Trace-ID":crypto.randomUUID()}}),l=await o.json();if(400==o.status&&[15003,1e3].includes(l.code))throw Error("404");let{wisebase_name:c,wisebase_cover_url:d,file_id:u,sub_file_id:f,sub_file_content:p}=l.data.slides,{cid:h,parent_message_id:m}=l.data;return{id:a,title:c,coverUrl:d,pages:JSON.parse(p).pages,fileId:u,subFileId:f,sharedAt:l.data.shared_at||"",cid:h,parentMessageId:m,asyncTask:null===(t=l.data)||void 0===t?void 0:t.async_task}},f=async(e,t,n)=>{let r=(0,s.LP)(),o=[],l=await (0,a.m)(e),c=new FormData;return c.append("file",e),c.append("hash",l),c.append("mime",e.type),t&&t.rag&&o.push({type:"RAG"}),n&&c.append("meta",JSON.stringify(n)),o.length>0&&c.append("tasks",JSON.stringify(o)),(await fetch("".concat(i.JW,"/uploader/v1/file/upload-directly"),{method:"POST",headers:{Authorization:"".concat(r),"X-App-Name":i.DJ,"X-App-Version":i.f4,"X-Time-Zone":i.EQ,"X-Trace-ID":crypto.randomUUID()},body:c})).json()};async function p(e){let t=(0,s.LP)(),n=new URLSearchParams({app_name:i.DJ,app_version:i.f4,tz_name:i.EQ}),a=await fetch("".concat(i.JW,"/uploader/v1/file/").concat(e,"?").concat(n.toString()),{method:"GET",headers:{Authorization:"".concat(t)}});return await a.json()}async function h(e){let t=(0,s.LP)(),n=await fetch("".concat(i.JW,"/library/v1/files/actions/create-sider-file-by-url"),{method:"POST",headers:{Authorization:"".concat(t),"X-App-Name":i.DJ,"X-App-Version":i.f4,"X-TZ-Name":i.EQ,"Content-Type":"application/json"},body:JSON.stringify({url:e})});return await n.json()}async function m(e){let t=(0,s.LP)(),n=await fetch("".concat(i.JW,"/uploader/v1/files/status"),{method:"POST",headers:{Authorization:"".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)});return(await n.json()).data.map(e=>({fileID:e.fileID,textReady:e.textReady,textInTask:e.textInTask,taskStatus:e.taskStatus,textTaskIsFailed:e.textTaskIsFailed}))}let g=async e=>{let{id:t}=e,n=(0,s.LP)(),a=await fetch("".concat(i.JW,"/chat/v1/agent/sub-agent/share"),{method:"POST",headers:{Authorization:"".concat(n),"X-App-Name":i.DJ,"X-App-Version":i.f4,"X-Time-Zone":i.EQ,"X-Trace-ID":crypto.randomUUID()},body:JSON.stringify({id:t})});return await a.json()},y=async e=>{let{id:t}=e,n=(0,s.LP)(),a=await fetch("".concat(i.JW,"/chat/v1/agent/sub-agent/cancel-share"),{method:"POST",headers:{Authorization:"".concat(n),"X-App-Name":i.DJ,"X-App-Version":i.f4,"X-Time-Zone":i.EQ,"X-Trace-ID":crypto.randomUUID()},body:JSON.stringify({id:t})});return await a.json()},v=async e=>{let{id:t}=e,n=await fetch("".concat(i.JW,"/chat/v1/agent/shared/slides?id=").concat(t),{method:"GET",headers:{"X-App-Name":i.DJ,"X-App-Version":i.f4,"X-Time-Zone":i.EQ,"X-Trace-ID":crypto.randomUUID()}}),{wisebase_name:a,file_id:r,sub_file_id:s,sub_file_content:o,wisebase_cover_url:l}=(await n.json()).data;return{id:t,title:a,coverUrl:l,pages:JSON.parse(o).pages,fileId:r,subFileId:s,sharedAt:""}},w=async e=>{var t,n;let a=(0,s.LP)(),r=await fetch("".concat(i.JW,"/chat/v1/convert-task/create"),{method:"POST",headers:{Authorization:"".concat(a),"X-App-Name":i.DJ,"X-App-Version":i.f4,"X-Time-Zone":i.EQ,"X-Trace-ID":crypto.randomUUID()},body:JSON.stringify({resource_id:e,resource_name:"sub_agent_slides",type:"html_to_pptx"})}),{data:o}=await r.json(),l=o.task_id;if(!o.status||!l||""==o.status)throw Error("convert-task error: "+JSON.stringify(o));let c=null===(n=o.result)||void 0===n?void 0:null===(t=n.s3_object)||void 0===t?void 0:t.url;if(c)return c;let d=0,u=0;for(;d<500&&u<5;){let e=5e3+Math.min(100*++d,2e4);await new Promise(t=>setTimeout(t,e));try{let e=await fetch("".concat(i.JW,"/chat/v1/convert-task?task_id=").concat(l),{method:"GET",headers:{Authorization:"".concat(a),"X-App-Name":i.DJ,"X-App-Version":i.f4,"X-Time-Zone":i.EQ,"X-Trace-ID":crypto.randomUUID()}}),{data:t}=await e.json();if("failed"==t.status)throw Error("failed");if("success"==t.status)return t.result.s3_object.url}catch(e){u++}}return""},b=async(e,t)=>{let n=await o(e),{data:a}=await f(e,void 0,n);if(!a)throw Error("upload failed");let r=(0,s.LP)();return fetch("".concat(i.JW,"/library/v1/files"),{method:"PUT",headers:{Authorization:"".concat(r),"X-App-Name":i.DJ,"X-App-Version":i.f4,"X-Time-Zone":i.EQ,"X-Trace-ID":crypto.randomUUID(),"Content-Type":"application/json"},body:JSON.stringify({fileName:e.name,fileSize:e.size+"",fileType:e.type,logicFileType:"image",siderFileId:a.fileID,url:null==a?void 0:a.cdnURL,wisebaseId:t,agentFileType:"slides_user_uploaded",unique:!0})}),a}},77436:function(e,t,n){"use strict";n.d(t,{Ro:function(){return l},vk:function(){return s},y:function(){return o}});var i=n(65072),a=n(59288),r=n(4570);let s={id:"",title:"",coverUrl:"",pages:[],fileId:"",subFileId:"",sharedAt:""},o={id:"",images:[],videos:[]},l=(0,i.Ue)()((0,a.mW)((0,r.n)(e=>({slides:s,active:"",slidesLoading:!0,viewLoading:!0,historyState:[-1,0],resource:o,innerStyles:[],slideSize:[1280,720],generating:!1,chatMode:"chat",getTools:()=>null,wisebaseId:"",asyncTask:{id:"",status:"completed"},setState(t){e(e=>"function"==typeof t?(t(e),e):{...e,...t})}}))))},8911:function(e,t,n){"use strict";n.d(t,{j:function(){return l},L:function(){return c}});var i=n(4612),a=n(5388),r=n(48879),s=n(81619);let o={userInfo:null,limit:null,payInfo:null,plansInfo:null,isPro:!1,isZhCNPayUser:!1,installedExt:!1,config:{}},l=(0,i.M)({user:(e,t,n)=>{let i=t=>{e(e=>{e.user.userInfo=t})},l=t=>{e(e=>{e.user.limit=t})},c=n=>{let{setIsPro:i}=t().user;e(e=>{e.user.payInfo=n}),n&&i(n.plan_id>0)},d=n=>{let{setIsZhCNPayUser:i}=t().user;e(e=>{e.user.plansInfo=n}),i(n.plan.some(e=>"CNY"===e.currency))},u=async()=>{let e=await (0,r.HW)();return l(e.data),e.data},f=async()=>{let{promise:e,resolve:t,reject:n}=Promise.withResolvers();try{let[n,a,s,o]=await Promise.all([(0,r.bG)(),(0,r.HW)(),(0,r.q3)(),(0,r.Qp)({v2:!0})]);return i(n.data),l(a.data),c(s.data),d(o.data),t({userInfo:n.data,limit:a.data,payInfo:s.data,plansInfo:o.data}),e}catch(t){return console.error(t),n(t),e}};return{user:{...o,setUserInfo:i,setLimit:l,updateLimit:n=>{let i=(0,s.Z)({},t().user.limit,n);e(e=>{e.user.limit=i}),(0,a.T8)("userLimitation",i)},setPayInfo:c,setIsPro:t=>{e(e=>{e.user.isPro=t})},setPlansInfo:d,setIsZhCNPayUser:t=>{e(e=>{e.user.isZhCNPayUser=t})},setInstalled:t=>{e(e=>{e.user.installedExt=t})},setConfig:n=>{e(e=>{e.user.config={...t().user.config,...n}})},fetchLimitImmediately:u,updateAllUserInfoImmediately:f}}}},{name:"userStore"}),c=(0,i.W)(l)("user")},50569:function(e,t,n){"use strict";n.d(t,{default:function(){return T}});var i=n(55627),a=n(86845),r=n(80426),s=n(73892),o=n(91581),l=n(77436),c=n(14013),d=n(69215),u=n(28239),f=n(31781),p=n(39812),h=n(5704),m=n(56616),g=n(38248),y=n(36131),v=n(19143),w=n(60518),b=n(9124),x=n(76629),_=n(57672),I=n(16589);function T(e){let{id:t,data:n}=e,T=(0,x.useTranslations)("slides"),j=(0,_.useRef)(null),C=(0,_.useRef)(null),N=(0,_.useRef)(null),U=(0,l.Ro)(e=>e.setState),k=(0,l.Ro)(e=>{let{slides:n}=e;return n.id==t?n:l.vk}),S=(0,l.Ro)(e=>e.active),[A,D]=(0,l.Ro)(e=>e.slideSize),[X,J]=(0,_.useState)("tile"),[P,E]=(0,_.useState)(!1),[L,Z]=(0,_.useState)(!1),[W,O]=(0,_.useState)(!1),{play:z}=(0,w.Z)({playView:j,viewHandle:C,mirrorHandle:N,onChange:e=>{J(e?"play":"tile")}});return(0,b.Z)(()=>{d.U.transmit("page_view",{section_name:"share"})}),(0,_.useLayoutEffect)(()=>{O(!!c.l.getToken())},[]),(0,_.useLayoutEffect)(()=>{k.id!=t&&((null==n?void 0:n.id)==t?Promise.resolve(n):(0,s.Ki)({id:t})).then(e=>{var n;let{title:i,coverUrl:a,pages:r,fileId:s,subFileId:o,sharedAt:l}=e,c=r.map(e=>({key:crypto.randomUUID(),html:e.content,note:e.note}));U({slides:{id:t,title:i,coverUrl:a,pages:c,fileId:s,subFileId:o,sharedAt:l},slidesLoading:!1,active:null===(n=c[0])||void 0===n?void 0:n.key})})},[k,t,n]),(0,i.jsxs)("div",{className:"text-foreground flex h-full w-full flex-col",children:[(0,i.jsxs)("div",{className:"flex rounded-xl bg-color-grey-layer2-semitrans px-5 py-3",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(o.rU,{href:W?v.qd:v.Qe,children:(0,i.jsx)("button",{className:"shrink-0 rounded-lg p-2 hover:bg-color-grey-fill1-hover",children:(0,i.jsx)(a.Z,{className:"size-4"})})}),(0,i.jsx)("div",{className:"mx-1 min-w-0 truncate text-base font-semibold",children:k.title||(null==n?void 0:n.title)||"Untitled"}),(0,i.jsx)("div",{className:"text-sm text-color-text-primary-3",children:T("share.pageCount",{count:k.pages.length||(null==n?void 0:n.pages.length)})})]}),(0,i.jsx)("div",{className:"ms-auto flex justify-between",children:(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(p.Z,{previewPage:k.pages[0],slideWidth:A,slideHeight:D,onPlay:e=>{let{key:t,isPresenterView:n}=e;z({key:t,isPresenterView:n}),Z(!!n),d.U.transmit("web_slides_shared_preview",{preview_mode:n?"presenter":"persentation"})},children:(0,i.jsx)("button",{className:"rounded-lg p-2 hover:bg-grey-fill1-hover",children:(0,i.jsx)(r.Z,{className:"size-4"})})}),(0,i.jsx)(I.C,{id:k.id,title:k.title||(null==n?void 0:n.title)||"Untitled",sharedAt:k.sharedAt||Date.now()+"",scene:"share"}),(0,i.jsx)("button",{className:"rounded-lg bg-color-advanced-fill-normal px-4 py-1.5 text-sm text-color-text-secondary-1",onClick:()=>{window.open(W?v.qd:v.Qe,"_blank"),d.U.transmit("web_slides_create_your_own")},children:T("share.new")})]})})]}),(0,i.jsxs)("div",{ref:j,className:(0,u.cn)("grid h-0 flex-1","play"==X?"grid-rows-auto grid-cols-[min-content_auto_min-content] bg-black":""),children:["play"==X&&(0,i.jsx)("div",{className:"h-full p-2",children:(0,i.jsx)("div",{className:(0,u.cn)("relative h-full w-[192px] rounded-xl bg-[#1E1F2B]","play"==X&&P?"w-[40px] bg-transparent":"w-[192px]"),children:(0,i.jsx)(y.Z,{mode:X,title:k.title,pages:k.pages,active:S,collapse:P,slideWidth:A,slideHeight:D,onClick:e=>{var t;return null===(t=C.current)||void 0===t?void 0:t.slideTo(e)},onCollapseChange:E})})}),(0,i.jsxs)("div",{className:(0,u.cn)("relative mx-auto h-full w-full","play"!=X||L?"":"absolute z-10"),children:[(0,i.jsx)(m.Z,{wisebaseId:"",slides:k,className:"play"!=X||L?"":"absolute",handleRef:C,active:S,mode:X,slideWidth:A,slideHeight:D},k.id),"play"==X&&(0,i.jsx)(g.Z,{pages:k.pages,active:S,viewHandle:C,mode:X,isPresenterView:L}),(0,i.jsx)(f.Z,{viewHandle:C,handle:N,mode:X})]}),"play"==X&&(0,i.jsx)(h.Z,{mode:X,active:S})]})]})}},19143:function(e,t,n){"use strict";n.d(t,{Bl:function(){return h},EU:function(){return f},Gr:function(){return g},QT:function(){return p},Qe:function(){return o},XR:function(){return y},_1:function(){return r},_S:function(){return l},eW:function(){return c},hn:function(){return i},qd:function(){return s},u7:function(){return m},wZ:function(){return u},xM:function(){return a},zr:function(){return d}});let i="https://www.sidercontent.com/html-editor/index.html";globalThis.location&&!location.host.endsWith("sider.ai")&&(i="https://www.sidercontent.com/html-editor-beta/index.html");let a=20,r=16,s="/agents/ai-slides",o="/agents/ai-slides",l="slides",c=10,d=20,u=50;function f(e){u=e}let p=[".png",".jpg",".jpeg",".svg",".webp"],h=[".pdf",".json",".html",".txt",".md",".doc",".docx",".ppt",".pptx",...p],m={name:"slides-editor",displayName:"Slides Editor",cost:{type:"basic",count:1},level:1,category:1,creator:"",icon:'<svg viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clip-path="url(#clip0_7378_3976)"> <path d="M0 7C0 3.13401 3.13401 0 7 0C10.866 0 14 3.13401 14 7C14 10.866 10.866 14 7 14C3.13401 14 0 10.866 0 7Z" fill="url(#paint0_linear_7378_3976)"/> <path d="M5.00332 5.89846L4.90967 6.11392C4.89503 6.14901 4.87034 6.17898 4.83871 6.20006C4.80707 6.22114 4.76991 6.23239 4.73189 6.23239C4.69388 6.23239 4.65671 6.22114 4.62508 6.20006C4.59344 6.17898 4.56875 6.14901 4.55412 6.11392L4.46047 5.89846C4.29582 5.51729 3.99428 5.21168 3.61536 5.04193L3.32643 4.91288C3.29137 4.89676 3.26168 4.87092 3.24086 4.83843C3.22005 4.80594 3.20898 4.76817 3.20898 4.72958C3.20898 4.691 3.22005 4.65323 3.24086 4.62074C3.26168 4.58825 3.29137 4.56241 3.32643 4.54629L3.59937 4.42485C3.98782 4.25026 4.29452 3.93335 4.45628 3.53939L4.55297 3.3068C4.56712 3.27077 4.59179 3.23984 4.62377 3.21803C4.65576 3.19623 4.69357 3.18457 4.73227 3.18457C4.77098 3.18457 4.80879 3.19623 4.84077 3.21803C4.87276 3.23984 4.89743 3.27077 4.91157 3.3068L5.00788 3.53901C5.16948 3.93304 5.47604 4.25009 5.86441 4.42485L6.13774 4.54667C6.17269 4.56284 6.20227 4.58867 6.22301 4.62112C6.24375 4.65357 6.25477 4.69127 6.25477 4.72978C6.25477 4.76828 6.24375 4.80598 6.22301 4.83843C6.20227 4.87088 6.17269 4.89671 6.13774 4.91288L5.84842 5.04155C5.46958 5.21147 5.1678 5.51722 5.00332 5.89846ZM4.73807 11.4846C4.53603 11.4444 4.40166 11.2529 4.43633 11.0498C4.85972 8.57049 5.88413 3.9452 11.2034 3.9452C10.6339 5.08723 10.2517 5.65825 9.87105 6.03893L9.49037 6.41961L10.0614 6.80029C9.68071 7.94232 8.53868 9.2747 7.01596 9.46503C6.1037 9.57898 5.49882 10.1534 5.20131 11.1882C5.14314 11.3906 4.94455 11.5256 4.73807 11.4846Z" fill="white"/> </g> <defs> <linearGradient id="paint0_linear_7378_3976" x1="0" y1="0" x2="14" y2="14" gradientUnits="userSpaceOnUse"> <stop stop-color="#FFB688"/> <stop offset="1" stop-color="#EB7E26"/> </linearGradient> <clipPath id="clip0_7378_3976"> <rect width="14" height="14" rx="7" fill="white"/> </clipPath> </defs> </svg>',desc:"",enable:!1,replaceBy:"slides-editor",is_think_model:!1},g={name:"slides-agent",displayName:"Slides Agent",cost:{type:"basic",count:1},level:1,category:1,creator:"",icon:"",desc:"",enable:!1,replaceBy:"",is_think_model:!1},y='\n<style>\n  /* --- General Styles & Animation --- */\n\n  .skeleton {\n    position: relative;\n    overflow: hidden;\n    /* Base gray color. #e0e0e0 or rgba(114, 118, 139, 0.12) are good choices. */\n    background-color: rgba(114, 118, 139, 0.12);\n  }\n\n  /* Shimmer animation pseudo-element */\n  .skeleton::after {\n    content: \'\';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(\n      90deg,\n      transparent,\n      rgba(255, 255, 255, 0.3), /* Shimmer color */\n      transparent\n    );\n    /* Animation: name duration timing-function iteration-count */\n    animation: shimmer 1.5s infinite;\n    transform: translateX(-100%);\n  }\n\n  /* Define animation keyframes */\n  @keyframes shimmer {\n    100% {\n      transform: translateX(100%);\n    }\n  }\n\n  /* --- Layout and Element Styles --- */\n  .card {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    background-color: #ffffff;\n    border-radius: 8px;\n    padding: 75px 50px;\n    box-sizing: border-box; /* Ensures padding does not increase container size */\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .left-content {\n    width: 45%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n  }\n\n  .line {\n    border-radius: 999px; /* Use a large value to ensure fully rounded corners */\n  }\n  \n  .line-1 {\n    width: 65%;\n    height: 20%;\n  }\n  \n  .line-2 {\n    width: 90%;\n    height: 20%;\n  }\n  \n  .line-3 {\n    width: 35%;\n    height: 10%;\n  }\n\n  .right-content {\n    position: relative;\n    width: 45%;\n    padding-bottom: 45%;\n  }\n  \n  .circle {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n  }\n\n</style>\n\n<div class="card">\n  <div class="left-content">\n    <div class="skeleton line line-1"></div>\n    <div class="skeleton line line-2"></div>\n    <div class="skeleton line line-3"></div>\n  </div>\n  <div class="right-content">\n    <div class="skeleton circle"></div>\n  </div>\n</div>\n'}},function(e){e.O(0,[5887,5934,2720,6629,7076,8740,1217,3021,1711,2141,8033,4888,3059,1160,264,1905,9816,5676,2085,9263,8285,1604,6589,2499,2063,6548,9990,1744],function(){return e(e.s=68184)}),_N_E=e.O()}]);